# 每天写一点

***

*2015年5月10日下午9:43*

今天花了点时间学习了markdown的语法和mou的使用，并建立**每天写一点**这篇文稿，用于练习坚持写作直至形成一种习惯。

***

*2015年5月11日下午10:17*

早上爬起来打坐的姿势，阅读《箭术与禅心》这本书。书中说射箭不能带着命中箭靶的想法，而是要让弓箭自己射出。就好像雪压着树枝，直到它自己滑落。

白天完成了两个task：

1. 分餐员任务步骤按钮在点击后禁用，等待ajax返回后启用。
2. 报名列表添加全选功能，关键点事:checked和jQuery.prop()方法。

在和晓军的交谈中也学习了不少，比如：

* 美团的组件化方式是通过PHP实现的View.useComponent()方法，从某个组件目录中，将tpl，js，css读取处理，做到modal和静态文件的一起组件化。
* YUI是一个大而全得东西，既有require的功能，也有jQuery的功能。
* 美团搭建了自己的cnpm
* Github Trending是一个看最近牛逼项目的一个好去处


晚上回来，看空气不错，穿上跑鞋在小区里跑了会步。可能是有风的原因，身体并不出汗，而且相对在公司的跑步机上累得快了许多。

***

*2015年5月12日下午6:48*

起了个早，精神状态不错，应该是昨晚睡觉可以的功劳。一直带着改变自己的想法，找书、学禅、打坐，却始终不得其法，上班时间要到了，只能索然出门。

今天将履约分餐员工作台的两个task提交了stash，在晓军和丹阳review的过程中学了不少：

* rem是相对页面根元素的单位，0.02可以用于1像素的border
* 在sass中尽量使用变量控制颜色

git方面也有收获：

* reset用于调整HEAD，revert撤销某次操作
* 添加功能要新建branch，提交并push到stash，添加reviewer，最后merge

另外花了点时间开始入门es6：

* let和const命令，块作用于

晚上回来修车，跑步，洗了个澡，舒舒服服的坐在电脑前看完了蒂姆·哈福德先生关于“试验和排除错误”的演讲。

其主旨是说，我们面对的许多问题的复杂度容易被轻视，而且很多人抱着一种拥有“万能神力”的态度去看待这些问题。我们应该用一种更加谦虚的“试验和排错”的方式去面对和解决问题。而往往大部分人只是认识到这点，而不能落到实处。能够朝好的方向一直犯错是一件难能可贵的事情，学习和生活都是如此。需要抱着一种禅心，不断的尝试和犯错。

***

*2015年5月14日上午12:15*

早上起来感觉有一点不舒服，应该还是昨晚睡得太晚的缘故（今晚也很晚了..）。

兴趣点基本上都在东野圭吾的新书《解忧杂货店》上面，很快的看完了两个章节：

* 一个奥运女运动员，纠结是否要放弃比赛照顾病重的男友的烦恼。
* 克朗一心想成为一名职业音乐人，却又未不能继承父亲的鱼店的烦恼。

看了这本书，萌生了一个做一个让人们之间相互解忧的app的想法。

白天的时间，折腾了下sublime添加es6的build system的事情。最后的方法还是使用babel，因为不管是node --harmony还是iojs好像都没有很好的支持es6的特性。

关于sublime中的折叠本来想要做一个插件用来做同级折叠，现在是修改了默认的折叠快捷键，用alt + n的方式进行折叠，貌似也可以暂时用。

剩下的时间基本是看看es6的一些特性，感觉一团糟。
听了下无后端和react的分享，差评。

还有就是看了《前端工程师必知必会》的文章，记录了其中的关键点，作为接下来学习的重点。

***

*2015年5月14日上午7:46*

早上被自己的梦惊醒，梦里进了一个令人不寒而栗的密室游戏：
只记得有一关叫做两个钟头，有三个竹签，一个男人画像，一个紧闭的门。
突然一个竹签和另外一个什么以一种不可能能的方式插到了门的钥匙孔里...

大概只能记得这么多，一直到现在写日记都是全身发麻，鸡皮疙瘩不只。不过心理算是暗喜，能有这么非日常的梦^_^。

白天的主要时间用在尝试搭建sentry服务上，另外还扩充了一下mac的词典词库。

下午参加了供应链系统的需求评审会。

不知道怎样才能快速的提升自己的技术水平，整个人都很困惑。心里想的是，编码应该和打球、骑车一样，有一个关键的点如果能掌握了就能得心应手。就比如骑车关键的是要在快歪倒的时候，往那个方向猛踩一下；打球投篮的时候身体向后缩，可以辅助瞄准。不知道编程要领悟怎么样的正确姿势才能好。

***

*2015年5月15日上午8:23*

早上起来浏览[webos的博客](http://wesbos.com/)，有不少好东西：

* 高级浏览器开始在css解析器中支持object fit，一个像background-size: cover;一样的属性
* 调整了sublime的皮肤和配色，使用的是webbos的colbat2风格，相当不错。最亮的是在左侧目录结构中加入了文件类型的icon，赞！
* takana可以实时编辑sass和css，并在浏览器中查看效果。
* 在系统偏好中修改，让tab键可以作用于对话框
* GutterColor插件可以在css、scss中显示颜色标签，需要配合imagemagick服务

***

*2015年5月16日下午6:23*

周六的日子，上午去小区的球场打球，后面和粗大个对位，不落下风。打到11点50左右，回来洗了个澡。然后在西北汉子请大英子和表哥吃了顿饭。下午基本上在休息，顺带把codecademy关于make a website章节的题目做完了。晚上约了俊涛、文明、肖老板和海渠在健德门的木屋烧烤撸串，小喝了点啤酒，恰到好处，AA制，每人85。

***

*2015年5月17日下午6:27*

今天的时间基本上都花在读书上，把东野圭吾的《解忧杂货铺》读完了。整本书讲的是一个时空穿梭、悬疑而感人的故事，这也突破了东野圭吾一贯的阴暗悬疑的推理作品风格，翻译也很不错，让人读来可以一气呵成。

由于作品中不断得穿插着不同时空的故事，豆瓣上有人专门捋了一下[以时间未为顺序的主线](http://book.douban.com/review/7362523/)，相当细致。

晚上学习codecademy第二部分，使用javascript和jquery添加交互.
jquery的三个主要部分是：Events, Dom Manipulation, Effects。

***

*2015年5月18日上午8:07*

早上起来看了最新的一集《亚尔斯兰战记》，学习codecademy使用jquery的章节。

用jquery实现了：

* 左侧推入的菜单 - $.animate
* dropdown和likebutton - $.toggle $.toggleClass
* news reader

新的知识点是用jquery event中的event.which可以获取keycode。

上班之前读了一会《平常禅》，突然冒出一种想象：
在每一个场景中，家、办公室等等，都可以从自身展开一个罗一样的Room，将一个不熟悉，不适应的场所变成一个舒适的空间，然后要做的就是在这个空间中高效的产出，留下自己的痕迹，就像蚂蚁在它的巢穴中不断的修筑一样。

白天在公司试验了下Room Imagine，效果不错，因为觉得整个空间都是自己的，所以整个人都能比较安心的工作。

工作方面：

* 看了mt_harrison的关于编写复杂的react组建的[文章](http://matt-harrison.com/building-a-complex-web-component-with-facebooks-react-library/)
* 在codepen.io中编写了分餐员个人资料页面，学会了justify-line让单行也能justify的方法。
* 学习了Haml的基础语法，用于codepen.io上的编写。

在Room Imagine的作用下，萌生了另一种看待工作的角度。突然觉得工作的空间是自己的，工作就像是经营自己，更像是经营自己的公司一样。安心的感觉油然而生。

***

*2015年5月19日上午6:23*

早上起来，把codecademy中使用jquery event完成交互式应用news reader的余下部分。主要就是用jquery event的which判断keycode，完成了click，o，n等鼠标和键盘事件对应的article操作。

还有一部分就是用jquery提供的effect函数：fadeIn/Out，slideDown/Up，animate等完成一个crausel幻灯片。 

上班之前开始了codecademy上的ruby课程。

白天参加了焱达的分享，内容很基础。不过其中有几个点值得关注一下：

* oninput是HTML5的标准事件，IE9以上及其他现代浏览器支持。另外IE9以下浏览器可以用IE特有的onpropertychange事件。用于监听input的输入，包括键盘输入，剪贴板粘贴，以及脚本控制的输入。
* 在非IE浏览器下，addEventListener中return false;无法阻止表单提交，需要用event.preventDefault去做。

中午的时候和树奇、静静讨论了hackthon的事情，确定用“有组织”这个项目去参加，现在最迫切的就是在这个基础上补充地点的子功能。

下午和孟然讨论了下供应链多级组件，决定用react去重写，继续一个前端mock，今天去查以下。

晚上回来做了会Codecademy上Ruby的题目，主要是一些变量、Input、Output、变量插入，这些东西。

和小怪在微信上聊了会，说Jason Mraz去成都开演唱会了，好想去。脏狗喝醉了，一下子话多了起来。

另外像范晓请教了下要讲360的工作流架构方面的东西，应该讲一些什么内容。

***

*2015年5月20日上午7:36*

早上起来开始做Ruby的练习：

* !号表示函数是改变自身还是返回结果，比如first_name.capitalize!就是把自身首写字母改为大写。再比如state.upcase!等等。这可能比JS中一些函数会否改变自身的不确定性更好。
* 对于 || 和 && 操作符，像js一样，提前判断出来也会提前截断。
* 流操作符 if elsif else unless等
* 比较操作符 == != < <= > >=等
* 布尔/逻辑操作符 && and || or ! not
* puts "keep working" unless hungry，除非饿了，否则就继续工作。

***

*2015年5月25日上午10:58*

花了几天去忙Hackathon了，虽然没有晋级，但是有组织项目又往前走了几步，也有了自己的一些感悟：

像是Hackathon这种比赛，组织者从公司申请资源组织活动，为了给公司公司一个交代，肯定会从参赛项目中选择更加贴合公司业务的项目。

从Hackathon熬夜的疲惫中休息过来之后，周日和早餐组的同事相约去北服打了一下午篮球。晚上还去串来串去撸了个串。

Get了库里的Push推射技能：

投篮准备阶段，将右手翘起，用手指面托住篮球。投篮的过程，关键是要有手指面沿着皮球表面向上滑出的感觉，这样投篮就会变成自然的推投。而且用这个方法，投篮就不是靠手指的力量，而是手臂、手肘的力量，减少了手指的干扰，增加了稳定性。

所谓编程：就是用一种在当前的计算机环境下（编程语言、运行时环境），选择最合适的角度，最合适的语言描述一个问题，或者一个问题的结果方案。

如果开发失败，就会有莫名的挫败感油然而生。相应的成功的时候也会有强烈的自豪感，觉得编程很容易。

***

*2015年5月28日上午7:55*

早上起来把WesBos关于Command Line Power User的视频教程加速度看完了，其实讲的都很浅显，这里记录几个不知道的亮点：

* zsh & oh-my-zsh
* z
* trash

又看了下《学渣乐园》关于集合的新的两期视频。

***

*2015年6月3日下午3:29*

快速学习了jQuery插件的开发，并在履约的供应链系统帮楼页中进行了练习。开发了能够使表格能够拥有checkbox多选功能的插件MultiSelect。

PS: 这里是[jQuery插件开发的入门教程](http://www.css88.com/archives/4821)

回顾了一下[《An Object is not a Hash》](http://www.devthought.com/2012/01/18/an-object-is-not-a-hash/)这篇文章，文中提到字面量`{}`创建的对象不是hash，原因是有原型链的存在。如果要创见一个纯净的hash，可以使用`var obj = Object.new(null);`。

写了一个页面全局的消息系统，其中主要的api就三个：sendEvent, addEventListener和removeEventListener。核心是维护了一个监听器的Map。目前这个系统放在供应链系统的帮楼页面中。

晚上家里网又断了，在表哥怂恿下就去了球场。投篮的时候可以模仿库里的姿势，这次又学会了一招，就是右手轻抚在球的右侧而不是靠近中线。然后用之前的推射投法投篮，发现更准了。难道这算是发现库里的诀窍了?嘻哈哈！

***

*2015年6月4日下午3:23*

在Sublime的Key Bindings - User中加入了一段配置，能够自动在`()`中添加空格，使得写出来的代码有jQuery源码的风格，更好阅读。

相关配置见[这里](http://superuser.com/questions/540077/automatically-insert-a-space-between-parentheses-in-sublime-text-2)。

**git checkout**有三个不同的功能：

* `git checkout master`检出分支
* `git checkout <commit>`检出提交
* `git checkout <commit> <file>`检出文件

**git revert**是一种安全的undo操作，`git revert <commit>`可以讲某次提交的更改去掉，并将这个undo操作生成一个新的commit用于提交。这属于一种增量的方式去做undo，就不会破坏历史的完整性。

**git reset**正相反，是一个危险的undo操作。`git revert <commit>`会进行回退，并不会保留回退到的版本之后的历史。

这里是revert和reset两者的比较图：
![revert与reset](https://www.atlassian.com/git/images/tutorials/getting-started/undoing-changes/06.svg)

**git clean**操作是将没有跟踪的文件清楚，有点像`rm`操作。这个命令经常和`git reset`一起使用，可以将本地工作目录干净得回退到某个提交版本。

***

*2015年6月8日上午10:40*

周末两天跑去文明那帮忙做经纪人系统，重拾了AngularJS的东西，还有Angular UI中的UI-Router。

在MyPosts中新开一个Blog总结从PubSubJS库的GitHub库代码中学习到的知识。

***

*2015年6月9日下午6:53*

将PubSub的源码沿着GitHub的历史读完了，全面的了解了一个小型的库文件是如何从起步到完善的过程。在GitHub上用j2erix的账号添加了关注，想来以后也会一遍遍复习吧。

泽宇要回京旺看房子，坐在我的美利达前面的斜杠上，就这么骑了一路。真他妈还骑下来了，幸亏他是个瘦子。也算够奇葩的经历了，载的居然不是妹子，哎！

晚上回来去跑了一圈步，路上遇到了一个小孩玩无人机，好像也没什么意思。。。  

然后去超市买点东西，撞见了马华容，简单聊了两句。得出一个结论，在和别人聊天交流的时候绝对不要陷入回忆模式，因为你在回忆场景下说的东西，别人很可能听不懂，也不感兴趣~

***

*2015年6月10日下午10:55*

今天学习了一下Grunt。像范晓说的一样，Grunt很简单，就是设计一些自动化任务。学习Grunt的关键就是去了解那些现有的任务，并整理一套自己常用的任务。

***

*2015年6月11日上午11:51*

对比Grunt，学习了Gulp的基础用法。其实两者做的事都差不多，相对而言Gulp的亮点在于利用了node流式操作pipe，省去了Grunt中间环节需要的I/O，使得整个task更为流畅。下面针对Grunt和Gulp的关键点做一个小记：

**Grunt**

* `grunt.initConfig` - 统一的配置文件，同名的task会来这里找配置
* `grunt.loadNpmTasks` - 去npm包中加载第三方task
* `grunt.registerTask` - 定义项目的task，比如default、test、watch、build等
* `grunt-contrib-*` - grunt团队维护的task，常用的如：
	* `grunt-contrib-uglify`
	* `grunt-contrib-jshint`
	* `grunt-contrib-qunit`
	* `grunt-contrib-watch`
	* `grunt-contrib-concat`
	
**Gulp**

* `gulp.src` - 文件读取
* `gulp.dest` - 文件写入
* `gulp.task` - 定义一个task
* `gulp.watch` - 进行监听
* `gulp-*` - gulp第三方task基本都用gulp前缀，常用的如：
	* `gulp-ruby-sass`
	* `gulp-autoprefixer`
	* `gulp-minify-css`
	* `gulp-jshint`
	* `gulp-concat`
	* `gulp-uglify`
	* `gulp-imagemin`
	* `gulp-livereload`
	* `gulp-clean`
	* `gulp-cache`
	* `gulp-notify`
	
更多参见文章：[Getting started with gulp](https://markgoodyear.com/2014/01/getting-started-with-gulp/)

***

*2015年6月12日上午11:38*

浏览器会对web页面添加默认样式，而不同的浏览器添加的默认样式也往往不同。因为基础不同，就给我们编写web样式造成了麻烦。  
CSS的reset和normalize做的事情就是统一这个基础样式，但是他俩的理念和做法却是不同的：

* reset：重写了浏览器的默认样式，使得默认样式都被抵消掉。
* normalize：讲浏览器间不一致的地方重写，尽量让基础统一为一种常用的默认样式。

比如，ul在reset后就没了前缀点和锁紧，而在normalize后还会存在，只不过是磨平了浏览器间的差异。

再比如：search类型的input，默认是和单纯的text类型的input有较大的差别。但是reset不会处理这个差别，而normalize会将search的样式改为text类型的样式，方便我们再编写自己的样式。

【参考文章】：[CSS: reset or normalize?](https://the-pastry-box-project.net/oli-studholme/2013-june-3)

Sublime Snippet是一个强大的工具，可以节省很多编码时间，有必要花时间整理一套常用snippet。

***

*2015年6月15日上午10:24*

【参考文章】：[JavaScript面向对象精要](http://www.ido321.com/1585.html)

JavaScript中的原始类型有5种（按表现力升序）：

* undefined
* null
* boolean
* number
* string

它们可以用typeof检测类型，但是`typeof null`返回是`object`，而不是`null`，需要注意！

原始类型中，boolean、number和string有相应的原始封装类型，在它们的调用方法的时候被创建：
	
	var name = "Pomy";
	var temp = new String(name);
	var char = temp.charAt(0);
	temp = null;
	console.log(char);
	
因为原始封装类型在用完后会被销毁，所以不能给原始类型添加属性，instanceof也返回false，如：

	var s = 'asdf';
	console.log(s instanceof String); //false
	var str = new String('asdf');
	console.log(str instanceof String); //true
	
引用类型：除了自定义对象，JavaScript提供了6种内建类型：

* Array
* Date
* Error
* Function
* Object
* RegExp

其中除了Function以外，用typeof检测都是object，所以需要用instanceof来检测。

在函数内部：

* `arguments.length` 返回实参的个数，即实际传入参数的个数
* `arguments.callee.length` 返回形参的个数，即函数声明时指定的参数个数

JavaScript中提供了三个方法用于改变`this`的指向：

* Function.prototype.call
* Function.prototype.apply
* Function.prototype.bind

下午做供应链的东西，重温了webpack。有了webpack就能随心所欲的对应用程序进行模块的划分，还能用加载器加载各种文件。webpack有mustache的模板加载器，可以很方便的来写模板了，赞一个！

***

*2015年6月16日下午11:06*

在编码之上，占更大分量的其实是领域知识。比如前端知识，这是一个大的领域，其中又包括许许多多小的领域，比如实现一个轮播组件。

永远要站在领域的角度去看编程，而不要陷入要编程中。代码只是工具，要明白自己编码的目的是什么，而不要为了编码而编码。

***

*2015年6月18日下午2:15*

Html的DOM元素中有6个DOM属性用于获得元素的各种尺寸：

* offsetWidth, offsetHeight: 元素的可见尺寸，等于 width/height + paddings + borders
* clientWidth, clientHeight: 元素的内容的可见尺寸，包括paddings，不包括borders和scroll bars。因为依赖与浏览器的scroll bars尺寸，所以不能通过css属性计算获得。
* scrollWidth, scrollHeight: 内容的全部尺寸，包括被滚动区域隐藏的部分，不可通过css计算获得。

![元素尺寸属性](http://i.stack.imgur.com/5AAyW.png)


参见文章：[Understanding offsetWidth, clientWidth, scrollWidth and -Height, respectively](http://stackoverflow.com/questions/21064101/understanding-offsetwidth-clientwidth-scrollwidth-and-height-respectively)

***

*2015年6月20日下午3:31*

早上起来并没有着急的打开电脑，而是玩玩吉他，想想下一步做什么。

去庆丰买了包子，骑车到球场边的公园椅上吃掉。看看蓝天，绿叶，呼吸新鲜的空气，给家人，朋友打打电话。感觉这样的一个上午过得反而更有意义了。

#### JavaScript中的三个角色：

* 引擎：执行代码
* 编译器：语法分析及代码生成
* 作用域：收集并维护所有声明的标识符，组成一系列查询

#### LHS与RHS

引擎在执行编译器生成的代码的时候，会向作用域发出LHS或RHS的请求：

* LHS能够得到变量的容器，用于赋值。  
* RHS能够得到变量的值，用于相应的计算。

#### ReferenceError与TypeError

当JavaScript引擎进行RHS查询或严格模式下进行LHS查询时，如果找不到相应的变量，则会抛出ReferenceError，比如：

	var b = a; // ReferenceError: a is not defined
	c = 1; // ReferenceError: c is not defined
	
> 在非严格模式下，第二句会在全局变量声明c

当RHS查询到一个变量，但你尝试对这个变量的值进行不合理的操作，比如试图对一个非函数类型的值进行函数调用，或者引用了`null`或者`undefined`类型的值中的属性，那么引擎就会抛出另一个异常，叫做`TypeError`：

	var a = 1;
	console.log( a() ); // TypeError: a is not a function
	var b, c = null;
	console.log( b.foo ); //TypeError: Cannot read property 'foo' of undefined
	console.log( c.foo ); //TypeError: Cannot read property 'foo' of null
	
***

*2015年6月26日上午11:40*

#### Array.prototype.map的疑惑
`Array.prototype.map`默认是不修改原对象的，至于在函数内部是否会修改，要根据传入的是值还是引用以及相应的操作来判断。

#### React踩了一天的坑
用React做供应链的复杂表格，踩了一天的坑。概括的说：

* 应该这么写
`return <option value={combo.comboId}>{combo.comboName + '(评分' + combo.comboScore + ')'}</option>;`
* 不应该这么写
`return <option value={combo.comboId}>{combo.comboName}(评分{combo.comboScore})}</option>;`

#### 采坑之供应链store的引用传递
在给stores数据按照date做变换的过程中，因为store是引用传递，所以一改都改了，醉了。
解决方法是采用$.extend做拷贝。

#### $.extend之深拷贝
在拷贝store数据时候，要在第一个参数加上true，这样就能使combo的数据也拷贝。就是所谓的深拷贝。

***

*2015年6月27日上午8:20*

#### 我对世界有了新的看法
在过往的生活中，臆想的自己是陷入这个世界的泥潭中的孤零儿，无时无刻不是面对着这个世界深深的恶意。生存、竞争、压力以及对幸福生活的有心无力总让我喘不过气来，甚至彻夜难眠。

然而我对世界有了新的看法。世界更像一个巨大的游乐场，其中的种种事物和人就像是游乐场中的玩具和玩偶，而我即使在游乐场之中玩耍，又是在游乐场之上审视。不断的在其中找寻有趣的玩具，然后一遍遍的玩耍，尝试玩到最好。

在这个世界中我不再孤独，不再渺小，不再惴惴不安——有谁会在自家的后院中惴惴不安呢。

最后想说：世界很大，世界很小。

***

*2015年6月28日下午6:03*

#### 如何看待责任与义务
新世界就像一个游乐场，但是总是一个人的玩耍不也是很无聊的吗。所以，责任与义务对于我来说，更像是玩耍的约定。这样就不是负担，但还是要遵守。

#### 追风筝的人
两天时间在mac的陪伴下读完了《追风筝的人》。没没都是这样，读书的过程中总是感触良多，读完了却写不出什么。只希望在以后回味的时候能够忆起一些片段就很好了。